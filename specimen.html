<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Glyph Viewer</title>

<style>
@font-face {
    font-family: 'G15';
    src: url('Cell-2901.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'G15Font', sans-serif;
    background: #f8f8f4;
    color: #111;
}

/* ======================
   GLYPH VIEWER
====================== */
#glyph-viewer {
    padding: 120px 40px;
    display: grid;
    grid-template-columns: minmax(360px, 0.9fr) minmax(420px, 1.1fr);
    gap: 48px;
}

/* LEFT */
.glyph-left h2 {
    font-size: 24px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-bottom: 18px;
    font-weight: 400;
}

.glyph-preview {
    position: sticky;
    top: 120px;
    min-height: 520px;
    background: #fff;
    border: 1px solid #e4e2da;
    box-shadow: 0 12px 40px rgba(0,0,0,0.05);
}

.glyph-character {
    font-size: clamp(220px, 28vw, 340px);
    line-height: 1;
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    font-feature-settings: "smcp" 0;
}

.glyph-meta {
    position: absolute;
    left: 20px;
    bottom: 16px;
    display: flex;
    gap: 16px;
    font-size: 13px;
    color: #5a574d;
}

/* RIGHT */
.glyph-right {
    display: grid;
    gap: 18px;
    max-height: 78vh;
    overflow-y: auto;
    padding-right: 8px;
}

.glyph-legend {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.glyph-toggle {
    padding: 8px 14px;
    border: 1px solid #d5d3cb;
    border-radius: 14px;
    background: #fff;
    font-size: 11px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    cursor: pointer;
    font-family: 'G15Font', sans-serif;
}

.glyph-toggle.active {
    background: #111;
    color: #fff;
    border-color: #111;
}

.glyph-group {
    margin-top: 24px;
    padding-top: 16px;
    border-top: 1px solid #e4e2da;
}

.glyph-group:first-of-type {
    border-top: none;
    padding-top: 0;
}

.glyph-group-title {
    font-size: 12px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-bottom: 8px;
    color: #5a574d;
}

.glyph-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(64px, 1fr));
    gap: 8px;
}

.glyph-cell {
    aspect-ratio: 1;
    border: 1px solid #d5d3cb;
    background: #fff;
    font-size: 26px;
    display: grid;
    place-items: center;
    cursor: pointer;
    font-family: 'G15Font', sans-serif;
}

.glyph-cell.smallcaps {
    font-variant-caps: small-caps;
    font-feature-settings: "smcp" 1;
}

.glyph-cell:hover,
.glyph-cell.active {
    background: #ffe95f;
    border-color: #c3b33f;
}

/* ======================
   TEXT SCROLL SPECIMEN
====================== */
#text-specimen {
    padding: 160px 40px 200px;
    display: grid;
    gap: 120px;
}

.text-block {
    max-width: 820px;
    line-height: 1.4;
    text-align: left; /* bandiera */
}

.text-block .label {
    font-size: 11px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: #c03c3c;
    margin-bottom: 12px;
}

.text-10 { font-size: 10px; }
.text-12 { font-size: 12px; }
.text-16 { font-size: 16px; }
.text-20 { font-size: 20px; }
.text-24 { font-size: 24px; }

/* RESPONSIVE */
@media (max-width: 900px) {
    #glyph-viewer {
        grid-template-columns: 1fr;
    }
    .glyph-preview {
        position: relative;
        top: 0;
    }
}
</style>
</head>

<body>

<!-- ======================
   GLYPH VIEWER
====================== -->
<section id="glyph-viewer">

    <div class="glyph-left">
        <h2>Glifi</h2>
        <div class="glyph-preview">
            <span id="glyph-display" class="glyph-character">A</span>
            <div id="glyph-meta" class="glyph-meta">
                <span>Maiuscola</span>
                <span>U+0041</span>
            </div>
        </div>
    </div>

    <div class="glyph-right">
        <div class="glyph-legend">
            <button class="glyph-toggle active" data-set="maiuscola">maiuscola</button>
            <button class="glyph-toggle" data-set="minuscola">minuscola</button>
            <button class="glyph-toggle" data-set="maiuscoletto">maiuscoletto</button>
            <button class="glyph-toggle" data-set="accenti">accenti</button>
            <button class="glyph-toggle" data-set="numeri">numeri</button>
            <button class="glyph-toggle" data-set="glifi">glifi</button>
        </div>

        <div id="glyph-groups"></div>
    </div>

</section>

<!-- ======================
   TEXT SPECIMEN
====================== -->
<section id="text-specimen">

    <div class="text-block text-10">
        <div class="label">10px</div>
        Un organismo tipografico vive nel dettaglio minimo. A queste dimensioni ogni curva,
        ogni interruzione e ogni ritmo diventano cruciali per la leggibilità.
    </div>

    <div class="text-block text-12">
        <div class="label">12px</div>
        La tipografia da testo continuo richiede equilibrio. Contrasto, spaziatura
        e proporzioni devono lavorare insieme senza attirare l’attenzione.
    </div>

    <div class="text-block text-16">
        <div class="label">16px</div>
        Questa dimensione rappresenta il punto d’incontro tra funzione e carattere.
        È qui che la voce del font inizia a emergere chiaramente.
    </div>

    <div class="text-block text-20">
        <div class="label">20px</div>
        A corpi medi il disegno diventa espressivo. Le scelte formali
        iniziano a costruire un tono riconoscibile e intenzionale.
    </div>

    <div class="text-block text-24">
        <div class="label">24px</div>
        Quando la scala cresce, la tipografia smette di essere neutra.
        Diventa spazio, ritmo, presenza visiva.
    </div>

</section>

<script>
const glyphDisplay = document.getElementById("glyph-display");
const glyphMeta = document.getElementById("glyph-meta");
const groupsContainer = document.getElementById("glyph-groups");

const glyphSets = {
    maiuscola: { label: "Maiuscola", items: "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("") },
    minuscola: { label: "Minuscola", items: "abcdefghijklmnopqrstuvwxyz".split("") },
    maiuscoletto: {
        label: "Maiuscoletto",
        items: "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
        smallCaps: true
    },
    accenti: {
        label: "Accenti",
        items: [..."ÀÁÈÉÌÍÒÓÙÚÝàáèéìíòóùúý"]
    },
    numeri: { label: "Numeri", items: "0123456789".split("") },
    glifi: {
        label: "Glifi",
        items: [
            ..."!&'()*.·,/.:;?¿¡@#[]{}",
            ..."«»",
            ..."\\",
            ..."-%‰…—_`^+<=>|~≈",
            ..."\"“”’",
            ..." $£¥€"
        ]
    }
};

let activeGlyph = null;

function showGlyph(char, cell, persist = false) {
    const isSmallCaps = cell.classList.contains("smallcaps");
    const label = isSmallCaps ? "Maiuscoletto" : char === char.toUpperCase() ? "Maiuscola" : "Minuscola";
    const code = char.codePointAt(0).toString(16).toUpperCase().padStart(4, "0");

    glyphDisplay.textContent = char;
    glyphDisplay.style.fontVariantCaps = isSmallCaps ? "small-caps" : "normal";
    glyphDisplay.style.fontFeatureSettings = isSmallCaps ? '"smcp" 1' : '"smcp" 0';
    glyphMeta.innerHTML = `<span>${label}</span><span>U+${code}</span>`;

    if (persist) {
        document.querySelectorAll(".glyph-cell.active").forEach(el => el.classList.remove("active"));
        cell.classList.add("active");
        activeGlyph = { char, cell };
    }
}

function buildGroups() {
    let firstCell = null;

    Object.entries(glyphSets).forEach(([key, set]) => {
        const group = document.createElement("section");
        group.className = "glyph-group";
        group.id = `group-${key}`;

        const title = document.createElement("div");
        title.className = "glyph-group-title";
        title.textContent = set.label;

        const grid = document.createElement("div");
        grid.className = "glyph-grid";

        set.items.forEach(char => {
            const cell = document.createElement("button");
            cell.className = "glyph-cell";
            cell.textContent = char;

            if (set.smallCaps) cell.classList.add("smallcaps");

            cell.addEventListener("mouseenter", () => showGlyph(char, cell));
            cell.addEventListener("mouseleave", () => {
                if (activeGlyph) showGlyph(activeGlyph.char, activeGlyph.cell);
            });
            cell.addEventListener("click", () => showGlyph(char, cell, true));

            if (!firstCell) firstCell = cell;
            grid.appendChild(cell);
        });

        group.appendChild(title);
        group.appendChild(grid);
        groupsContainer.appendChild(group);
    });

    if (firstCell) showGlyph(firstCell.textContent, firstCell, true);
}

function scrollToGroup(key) {
    const target = document.getElementById(`group-${key}`);
    if (!target) return;

    document.querySelectorAll(".glyph-toggle").forEach(b => b.classList.remove("active"));
    document.querySelector(`[data-set="${key}"]`).classList.add("active");

    target.scrollIntoView({ behavior: "smooth", block: "start" });
}

document.querySelectorAll(".glyph-toggle").forEach(btn => {
    btn.addEventListener("click", () => scrollToGroup(btn.dataset.set));
});

buildGroups();
</script>

</body>
</html>
